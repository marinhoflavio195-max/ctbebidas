<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1">

<title>SR Delivery</title>

<style>

body{
margin:0;
font-family:Arial, Helvetica, sans-serif;
background:#f5f5f5;
}

/* TOPO */
header{
background:#c40000;
position:fixed;
top:0;
width:100%;
z-index:1000;
padding:10px;
display:flex;
align-items:center;
justify-content:space-between;
}

header img{
width:100%;
max-height:70px;
object-fit:contain;
}

.cart-icon{
font-size:26px;
color:#fff;
cursor:pointer;
position:relative;
margin-right:15px;
}

.cart-count{
background:#fff;
color:#c40000;
border-radius:50%;
padding:2px 7px;
font-size:12px;
position:absolute;
top:-8px;
right:-8px;
}

/* CONTEUDO */
main{
padding-top:100px;
padding-bottom:80px;
}

/* CATEGORIAS */
.cats{
display:flex;
overflow-x:auto;
background:#fff;
padding:10px;
gap:10px;
}

.cats button{
border:none;
padding:8px 15px;
background:#c40000;
color:#fff;
border-radius:20px;
cursor:pointer;
}

/* PRODUTOS */
#lista{
display:grid;
grid-template-columns:repeat(2,1fr);
gap:10px;
padding:10px;
}

.prod{
background:#fff;
border-radius:10px;
padding:10px;
text-align:center;
box-shadow:0 0 5px rgba(0,0,0,0.1);
}

.prod img{
width:100%;
height:120px;
object-fit:contain;
}

.prod h4{
font-size:13px;
min-height:40px;
}

.prod p{
color:#c40000;
font-weight:bold;
}

.prod input{
width:50px;
text-align:center;
}

.prod button{
background:#c40000;
border:none;
color:#fff;
padding:5px 10px;
border-radius:5px;
margin-top:5px;
cursor:pointer;
}

/* CARRINHO */
#cart{
position:fixed;
top:0;
right:-100%;
width:100%;
height:100%;
background:#fff;
z-index:2000;
overflow:auto;
transition:0.3s;
padding:15px;
}

#cart h2{
text-align:center;
color:#c40000;
}

.cart-item{
border-bottom:1px solid #ddd;
padding:5px;
}

.cart-item span{
float:right;
}

#cart button{
width:100%;
padding:10px;
background:#c40000;
color:#fff;
border:none;
margin-top:10px;
border-radius:5px;
cursor:pointer;
}

/* FORM */
form input, select{
width:100%;
padding:8px;
margin:5px 0;
border:1px solid #ccc;
border-radius:5px;
}

</style>
</head>

<body>

<header>
<img src="img/logo.png">
<div class="cart-icon" onclick="toggleCart()">
üõí<span id="cartCount" class="cart-count">0</span>
</div>
</header>

<main>

<div class="cats">
<button onclick="filtro('all')">Todos</button>
<button onclick="filtro('cerveja')">Cervejas</button>
<button onclick="filtro('refri')">Refrigerantes</button>
<button onclick="filtro('agua')">√Ågua</button>
<button onclick="filtro('destilado')">Destilados</button>
</div>

<div id="lista"></div>

</main>


<!-- CARRINHO -->
<div id="cart">

<h2>Meu Carrinho</h2>

<div id="cartItems"></div>

<p><b>Total: R$ <span id="total">0.00</span></b></p>

<form>

<input id="nome" placeholder="Nome do cliente" required>
<input id="fone" placeholder="Telefone">

<input id="end" placeholder="Endere√ßo (Entrega)">
<input id="ref" placeholder="Refer√™ncia">

<select id="tipo">
<option value="retirada">Retirada</option>
<option value="entrega">Entrega (m√≠n. R$80)</option>
</select>

<select id="pagamento">
<option>Pix</option>
<option>Dinheiro</option>
<option>Cart√£o</option>
</select>

</form>

<button onclick="finalizar()">Finalizar Pedido</button>
<button onclick="toggleCart()">Fechar</button>

</div>


<script>

/* PRODUTOS */
let produtos=[

/* === SEUS PRODUTOS (N√ÉO ALTERADOS) === */

{ id:1, nome:"CERVEJA BRAHMA CHOPP LT 350ML", preco:3.89, cat:"cerveja", img:"img/Cerveja Brahma Chopp LT 350ML.png"},
{ id:3, nome:"CERVEJA AMSTEL LAGER 600ML", preco:7.99, cat:"cerveja", img:"img/CERVEJA_AMSTEL_LAGER_600ML.png"},
{ id:4, nome:"CERVEJA ANTARCTICA LT 350ML", preco:4.35, cat:"cerveja", img:"img/Cerveja antarctica 350ml.png"},
{ id:5, nome:"CERVEJA KAISER LAT√ÉO 473ML", preco:3.95, cat:"cerveja", img:"img/cerveja kaiser lt 473ml.png"},
{ id:6, nome:"CERVEJA SKOL PILSEN LT 269ML", preco:3.25, cat:"cerveja", img:"img/CERVEJA_SKOL LT 269ML.png"},
{ id:8, nome:"CERVEJA BUDWEISER LT 350ML", preco:4.75, cat:"cerveja", img:"img/CERVEJA_BUDWEISER_LT_350ML.png"},
{ id:12, nome:"CERVEJA BRAHMA CHOPP 269ML", preco:2.79, cat:"cerveja", img:"img/CERVEJA_BRAHMA_CHOPP_269ML.png"},
{ id:13, nome:"CERVEJA EISENBAHN PURO MALTE 355ML", preco:5.69, cat:"cerveja", img:"img/CERVEJA_EISENBAHN_PURO_MALTE_355ML.png"},
{ id:17, nome:"CERVEJA BUDWEISER LN 330ML", preco:6.49, cat:"cerveja", img:"img/CERVEJA_BUDWEISER_LN_330ML.png"},
{ id:19, nome:"CERVEJA PETRA PURO MALTE 350ML", preco:3.10, cat:"cerveja", img:"img/CERVEJA_PETRA_PURO_MALTE_350ML.png"},
{ id:21, nome:"CERVEJA PETRA LN 355ML", preco:4.19, cat:"cerveja", img:"img/CERVEJA_PETRA_LN_355ML.png"},
{ id:22, nome:"CERVEJA SKOL PURO MALTE 269ML", preco:1.49, cat:"cerveja", img:"img/CERVEJA_SKOL_PURO_MALTE_269ML.png"},
{ id:24, nome:"CERVEJA HEINEKEN 600ML", preco:11.69, cat:"cerveja", img:"img/CERVEJA_HEINEKEN_600ML.png"},
{ id:27, nome:"CERVEJA GLACIAL 350ML", preco:2.99, cat:"cerveja", img:"img/CERVEJA_GLACIAL_350ML.png"},
{ id:28, nome:"CERVEJA SKOL PILSEN 350ML", preco:3.75, cat:"cerveja", img:"img/CERVEJA_SKOL_PILSEN_350ML.png"},
{ id:30, nome:"CERVEJA BRAHMA DUPLO MALTE 350ML", preco:3.99, cat:"cerveja", img:"img/CERVEJA_BRAHMA_DUPLO_MALTE_350ML.png"},
{ id:31, nome:"CERVEJA HEINEKEN LN 330ML", preco:6.95, cat:"cerveja", img:"img/CERVEJA_HEINEKEN_LN_330ML.png"},
{ id:32, nome:"CERVEJA AMSTEL 350ML", preco:4.35, cat:"cerveja", img:"img/CERVEJA_AMSTEL_350ML.png"},
{ id:34, nome:"CERVEJA CORONA EXTRA 330ML", preco:8.39, cat:"cerveja", img:"img/CERVEJA_CORONA_EXTRA_330ML.png"},

{ id:200, nome:"Coca-Cola 2L", preco:9.99, cat:"refri", img:"img/refri.png"},
{ id:201, nome:"Guaran√° Antarctica 2L", preco:8.99, cat:"refri", img:"img/refri.png"},
{ id:202, nome:"Fanta Laranja 2L", preco:7.99, cat:"refri", img:"img/refri.png"},
{ id:203, nome:"Sprite 2L", preco:7.49, cat:"refri", img:"img/refri.png"},

{ id:300, nome:"√Ågua Mineral 500ml", preco:2.50, cat:"agua", img:"img/agua.png"},
{ id:301, nome:"√Ågua Mineral 1.5L", preco:4.00, cat:"agua", img:"img/agua.png"},
{ id:302, nome:"√Ågua Mineral 5L", preco:7.50, cat:"agua", img:"img/agua.png"}

];


/* SISTEMA */

let cart=[];

function render(list=produtos){

let html="";

list.forEach(p=>{

html+=`
<div class="prod">
<img src="${p.img}">
<h4>${p.nome}</h4>
<p>R$ ${p.preco.toFixed(2)}</p>

<input type="number" min="1" value="1" id="q${p.id}">

<button onclick="add(${p.id})">Adicionar</button>
</div>
`;

});

document.getElementById("lista").innerHTML=html;

}

render();


function filtro(cat){

if(cat=="all"){
render();
}else{
render(produtos.filter(p=>p.cat==cat));
}

}


function add(id){

let p=produtos.find(x=>x.id==id);
let q=parseInt(document.getElementById("q"+id).value);

let e=cart.find(x=>x.id==id);

if(e){
e.qtd=q;
}else{
cart.push({...p,qtd:q});
}

update();

}


function update(){

let html="";
let total=0;

cart.forEach(i=>{

html+=`
<div class="cart-item">
${i.nome} x${i.qtd}
<span>R$ ${(i.preco*i.qtd).toFixed(2)}</span>
</div>
`;

total+=i.preco*i.qtd;

});

document.getElementById("cartItems").innerHTML=html;
document.getElementById("total").innerText=total.toFixed(2);
document.getElementById("cartCount").innerText=cart.length;

}


function toggleCart(){

let c=document.getElementById("cart");

if(c.style.right=="0%"){
c.style.right="-100%";
}else{
c.style.right="0%";
}

}


function finalizar(){

if(cart.length==0){
alert("Carrinho vazio!");
return;
}

let nome=document.getElementById("nome").value;
let fone=document.getElementById("fone").value;
let end=document.getElementById("end").value;
let ref=document.getElementById("ref").value;

let tipo=document.getElementById("tipo").value;
let pag=document.getElementById("pagamento").value;

let total=cart.reduce((a,b)=>a+b.preco*b.qtd,0);

/* REGRA ENTREGA */
if(tipo=="entrega" && total<80){
alert("Pedido m√≠nimo para entrega: R$ 80,00");
return;
}

let msg="üì¶ NOVO PEDIDO ‚Äì SR DELIVERY%0A%0A";

msg+=`üë§ Cliente: ${nome}%0A`;
msg+=`üìû Tel: ${fone}%0A`;
msg+=`üìç End: ${end}%0A`;
msg+=`üìå Ref: ${ref}%0A%0A`;

msg+="üõí Itens:%0A";

cart.forEach(i=>{
msg+=`${i.nome} x${i.qtd} - R$ ${(i.preco*i.qtd).toFixed(2)}%0A`;
});

msg+=`%0Aüí∞ Total: R$ ${total.toFixed(2)}%0A`;
msg+=`üöö ${tipo}%0A`;
msg+=`üí≥ ${pag}`;

let tel="5599988592997";

window.open(`https://wa.me/${tel}?text=${msg}`);

cart=[];
update();
toggleCart();

}

</script>

</body>
</html>
