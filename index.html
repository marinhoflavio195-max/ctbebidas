<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>São Raimundo Supermercado CT Bebidas</title>
<style>
body{font-family:Arial,sans-serif;margin:0;padding:0;background:#fff;color:#333;}
header{background:#c00;color:#fff;padding:10px;text-align:center;}
header img{max-height:60px;}
h1{margin:10px 0;}
.container{padding:10px;}
.produto{border:1px solid #ccc;padding:10px;margin:10px 0;display:flex;align-items:center;}
.produto img{width:80px;height:80px;object-fit:cover;margin-right:10px;}
.produto button{margin-left:5px;}
.carrinho{border-top:2px solid #c00;padding-top:10px;margin-top:10px;}
.carrinho-item{display:flex;justify-content:space-between;align-items:center;border-bottom:1px solid #ccc;padding:5px 0;}
button{background:#c00;color:#fff;border:none;padding:5px 8px;cursor:pointer;}
input[type="number"]{width:50px;}
.total{font-weight:bold;margin-top:10px;}
.cupom{margin-top:10px;}
</style>
</head>
<body>

<header>
  <img src="logo.jpg" alt="São Raimundo Supermercado CT Bebidas">
  <h1>São Raimundo Supermercado CT Bebidas</h1>
</header>

<div class="container" id="produtos"></div>

<div class="container carrinho">
  <h2>Carrinho</h2>
  <div id="carrinho-itens"></div>
  <div class="total" id="total">Total: R$ 0,00</div>
  <div class="cupom">
    <label>Digite cupom: </label>
    <input type="text" id="cupom">
    <button onclick="aplicarCupom()">Aplicar</button>
    <div id="mensagem-cupom"></div>
  </div>
  <div style="margin-top:10px;">
    <button onclick="gerarPedido()">Enviar pedido no WhatsApp</button>
  </div>
</div>

<script>
// Lista de produtos
const produtos = [
  {id:863,nome:"Cerveja Brahma Chopp LT 350ML",preco:3.89,imagem:"img/Cerveja Brahma Chopp LT 350ML.png"},
  {id:3084,nome:"Cerveja Amstel Lager 600ml",preco:7.99,imagem:"img/cerveja.png.png"},
  {id:3499,nome:"Cerveja Antarctica LT 350ml",preco:4.35,imagem:"img/cerveja antarctica lt 350ml.png"},
  {id:10695,nome:"Cerveja Kaiser Latão 473ml",preco:3.95,imagem:"img/cerveja kaiser lt 473ml.png"},
  // ... demais produtos seguindo o padrão acima
];

let carrinho = [];
let total = 0;
let cupomAtivo = false;
let cupomUsos = 0;

function mostrarProdutos(){
  const div = document.getElementById('produtos');
  produtos.forEach(p=>{
    const prodDiv = document.createElement('div');
    prodDiv.className='produto';
    prodDiv.innerHTML = `
      <img src="${p.imagem}" alt="${p.nome}">
      <div>
        <strong>${p.nome}</strong><br>
        R$ ${p.preco.toFixed(2)}
      </div>
      <button onclick="adicionarCarrinho(${p.id})">Adicionar</button>
    `;
    div.appendChild(prodDiv);
  });
}

function adicionarCarrinho(id){
  const produto = produtos.find(p=>p.id===id);
  const carrinhoItem = carrinho.find(c=>c.id===id);
  if(carrinhoItem){
    carrinhoItem.qtd++;
  } else {
    carrinho.push({id:produto.id,nome:produto.nome,preco:produto.preco,qtd:1});
  }
  atualizarCarrinho();
}

function removerCarrinho(id){
  carrinho = carrinho.filter(c=>c.id!==id);
  atualizarCarrinho();
}

function alterarQuantidade(id, valor){
  const item = carrinho.find(c=>c.id===id);
  if(!item) return;
  item.qtd += valor;
  if(item.qtd < 1) item.qtd = 1;
  atualizarCarrinho();
}

function atualizarCarrinho(){
  const div = document.getElementById('carrinho-itens');
  div.innerHTML='';
  total=0;
  carrinho.forEach(item=>{
    const itemDiv = document.createElement('div');
    itemDiv.className='carrinho-item';
    let itemTotal = item.preco*item.qtd;
    total+=itemTotal;
    itemDiv.innerHTML = `
      <span>${item.nome} (R$ ${item.preco.toFixed(2)}) x 
      <button onclick="alterarQuantidade(${item.id},-1)">-</button> 
      ${item.qtd} 
      <button onclick="alterarQuantidade(${item.id},1)">+</button></span>
      <span>R$ ${itemTotal.toFixed(2)} <button onclick="removerCarrinho(${item.id})">Remover</button></span>
    `;
    div.appendChild(itemDiv);
  });
  total += 5; // frete fixo
  document.getElementById('total').innerText = `Total: R$ ${total.toFixed(2)} (incluindo frete R$5)`;
}

function aplicarCupom(){
  const cupom = document.getElementById('cupom').value.trim().toUpperCase();
  const mensagem = document.getElementById('mensagem-cupom');
  if(cupom === 'PRIMEIRA10' && cupomUsos < 10 && !cupomAtivo){
    total *= 0.9;
    cupomAtivo = true;
    cupomUsos++;
    atualizarCarrinho();
    mensagem.innerText = "Cupom aplicado! 10% de desconto.";
  } else if(cupomAtivo){
    mensagem.innerText = "Você já usou o cupom.";
  } else {
    mensagem.innerText = "Cupom inválido ou expirado.";
  }
}

function gerarPedido(){
  if(carrinho.length===0){
    alert("Carrinho vazio!");
    return;
  }
  let texto = "Olá, quero fazer o pedido:\n";
  carrinho.forEach(item=>{
    texto += `- ${item.nome} x ${item.qtd} = R$ ${(item.preco*item.qtd).toFixed(2)}\n`;
  });
  texto += `Frete: R$5\nTotal: R$ ${total.toFixed(2)}\n`;
  const link = `https://wa.me/5599988592997?text=${encodeURIComponent(texto)}`;
  window.open(link,'_blank');
}

mostrarProdutos();
</script>

</body>
</html>
