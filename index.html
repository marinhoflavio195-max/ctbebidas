<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>São Raimundo Supermercado CT Bebidas</title>
<style>
body {
    font-family: Arial, sans-serif;
    background-color: #fff0f0;
    margin: 0;
    padding: 0;
}
header {
    background-color: #c00;
    color: white;
    text-align: center;
    padding: 15px 10px;
}
header img {
    max-width: 120px;
    display: block;
    margin: 0 auto 10px;
}
h1 {
    margin: 0;
    font-size: 1.5em;
}
.container {
    padding: 10px;
}
.produto {
    display: flex;
    align-items: center;
    background: #fff;
    margin-bottom: 10px;
    padding: 10px;
    border-radius: 10px;
    box-shadow: 0 2px 5px #ccc;
}
.produto img {
    width: 70px;
    height: 70px;
    object-fit: cover;
    margin-right: 10px;
    border-radius: 5px;
}
.produto-info {
    flex: 1;
}
.produto-info h3 {
    margin: 0 0 5px;
    font-size: 1em;
}
.produto-info p {
    margin: 0;
    font-size: 0.9em;
    color: #333;
}
.produto button {
    background-color: #c00;
    color: #fff;
    border: none;
    padding: 8px 12px;
    border-radius: 5px;
    cursor: pointer;
}
#carrinho {
    position: fixed;
    bottom: 0;
    right: 0;
    width: 100%;
    max-width: 400px;
    background: white;
    border-top: 3px solid #c00;
    box-shadow: 0 -2px 5px #ccc;
    padding: 10px;
    display: none;
    z-index: 100;
}
#carrinho h2 {
    margin-top: 0;
    font-size: 1.1em;
}
.item-carrinho {
    display: flex;
    justify-content: space-between;
    margin-bottom: 5px;
}
.item-carrinho span {
    flex: 1;
}
.item-carrinho button {
    padding: 2px 6px;
    margin-left: 5px;
}
#total {
    font-weight: bold;
    margin-top: 5px;
}
#cupom {
    margin-top: 5px;
}
#aplicar-cupom {
    background: #c00;
    color: white;
    border: none;
    padding: 5px 10px;
    cursor: pointer;
}
#whatsapp {
    margin-top: 10px;
    background: #25d366;
    color: white;
    padding: 8px;
    text-align: center;
    border-radius: 5px;
    cursor: pointer;
}
</style>
</head>
<body>
<header>
    <img src="logo.jpg" alt="São Raimundo Supermercado CT Bebidas">
    <h1>São Raimundo Supermercado CT Bebidas</h1>
</header>
<div class="container" id="produtos"></div>

<div id="carrinho">
<h2>Carrinho</h2>
<div id="itens-carrinho"></div>
<p id="total">Total: R$ 0,00</p>
<div id="cupom">
<input type="text" id="codigo-cupom" placeholder="Digite cupom">
<button id="aplicar-cupom">Aplicar</button>
</div>
<div id="whatsapp">Enviar pedido via WhatsApp</div>
</div>

<script>
// Lista de produtos
const produtos = [
  {id:863,nome:"CERVEJA BRAHMA CHOPP LT 350ML",preco:3.89,imagem:"img/cerveja.png"},
  {id:1502,nome:"CERVEJA BOHEMIA LONG NECK 355ML",preco:4.49,imagem:"img/cerveja.png"},
  {id:3084,nome:"CERVEJA AMSTEL LAGER 600ML",preco:7.99,imagem:"img/cerveja.png"},
  {id:3499,nome:"CERVEJA ANTARCTICA LT 350ML",preco:4.35,imagem:"img/cerveja.png"},
  {id:10695,nome:"CERVEJA KAISER LATÃO 473ML",preco:3.95,imagem:"img/cerveja.png"},
  {id:13043,nome:"CERVEJA SKOL LT 269ML",preco:3.25,imagem:"img/cerveja.png"}
  // adicione mais produtos seguindo o mesmo padrão
];

const carrinho = [];
let cupomAplicado = false;
let cupomUsos = 0;
const cupomMaxUsos = 10;

function mostrarProdutos() {
  const container = document.getElementById("produtos");
  container.innerHTML = "";
  produtos.forEach(prod => {
    const div = document.createElement("div");
    div.className = "produto";
    div.innerHTML = `
      <img src="${prod.imagem}" alt="${prod.nome}">
      <div class="produto-info">
        <h3>${prod.nome}</h3>
        <p>R$ ${prod.preco.toFixed(2)}</p>
      </div>
      <button onclick="adicionarCarrinho(${prod.id})">Adicionar</button>
    `;
    container.appendChild(div);
  });
}

function adicionarCarrinho(id) {
  const prod = produtos.find(p=>p.id===id);
  const item = carrinho.find(i=>i.id===id);
  if(item){
    item.quantidade++;
  } else {
    carrinho.push({id: prod.id, nome: prod.nome, preco: prod.preco, quantidade:1});
  }
  atualizarCarrinho();
}

function atualizarCarrinho() {
  const carrinhoDiv = document.getElementById("carrinho");
  carrinhoDiv.style.display = carrinho.length ? "block" : "none";
  const itensDiv = document.getElementById("itens-carrinho");
  itensDiv.innerHTML = "";
  let total = 0;
  carrinho.forEach((item,index)=>{
    total += item.preco*item.quantidade;
    const div = document.createElement("div");
    div.className = "item-carrinho";
    div.innerHTML = `
      <span>${item.nome} (${item.quantidade})</span>
      <button onclick="removerItem(${index})">-</button>
      <button onclick="adicionarItem(${index})">+</button>
    `;
    itensDiv.appendChild(div);
  });
  const frete = carrinho.length ? 5.00 : 0; // frete fixo
  document.getElementById("total").innerText = `Total: R$ ${(total+frete).toFixed(2)} (Frete: R$ ${frete.toFixed(2)})`;
}

function removerItem(i){
  if(carrinho[i].quantidade>1){
    carrinho[i].quantidade--;
  } else {
    carrinho.splice(i,1);
  }
  atualizarCarrinho();
}

function adicionarItem(i){
  carrinho[i].quantidade++;
  atualizarCarrinho();
}

// Cupom
document.getElementById("aplicar-cupom").addEventListener("click",()=>{
  const codigo = document.getElementById("codigo-cupom").value.toUpperCase();
  if(cupomUsos >= cupomMaxUsos){
    alert("O cupom já atingiu o limite de usos.");
    return;
  }
  if(codigo==="PRIMEIRA10" && !cupomAplicado){
    cupomAplicado=true;
    cupomUsos++;
    alert("Cupom aplicado! 10% de desconto");
    atualizarCarrinho();
  } else {
    alert("Cupom inválido ou já aplicado.");
  }
});

// WhatsApp
document.getElementById("whatsapp").addEventListener("click",()=>{
  if(carrinho.length===0){
    alert("Seu carrinho está vazio!");
    return;
  }
  let mensagem = "Olá! Gostaria de fazer o pedido:%0A";
  let total = 0;
  carrinho.forEach(item=>{
    mensagem += `${item.nome} x${item.quantidade} = R$ ${(item.preco*item.quantidade).toFixed(2)}%0A`;
    total += item.preco*item.quantidade;
  });
  const frete = 5.00;
  total += frete;
  if(cupomAplicado) total *= 0.9;
  mensagem += `Frete: R$ ${frete.toFixed(2)}%0ATotal: R$ ${total.toFixed(2)}`;
  const whatsapp = "5599988592997"; // seu WhatsApp
  window.open(`https://api.whatsapp.com/send?phone=${whatsapp}&text=${mensagem}`, "_blank");
});

mostrarProdutos();
</script>
</body>
</html>
