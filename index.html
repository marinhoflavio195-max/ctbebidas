<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SR Delivery</title>

<style>

body{
margin:0;
font-family:Arial, sans-serif;
background:#f5f5f5;
padding-top:200px;
}

/* TOPO */
header{
background:url("img/logoGPT.png") center/100% 100% no-repeat;
height:190px;
position:fixed;
top:0;
left:0;
width:100%;
z-index:1000;
display:flex;
justify-content:flex-end;
align-items:center;
padding:10px;
box-sizing:border-box;
}

.cart-icon{
font-size:26px;
color:white;
cursor:pointer;
position:relative;
text-align:center;
}

.cart-count{
background:#fff;
color:#c40000;
border-radius:50%;
padding:2px 6px;
font-size:12px;
position:absolute;
top:-6px;
right:-8px;
}

#cartTotal{
font-size:12px;
margin-top:2px;
font-weight:bold;
}

/* CATEGORIAS */
.categories{
display:flex;
justify-content:center;
gap:8px;
background:#fff;
padding:8px;
position:sticky;
top:190px;
z-index:900;
}

.categories button{
border:none;
background:#eee;
padding:6px 12px;
border-radius:20px;
cursor:pointer;
font-size:13px;
}

.categories .active{
background:#c40000;
color:#fff;
}

/* PRODUTOS */
.products{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(150px,1fr));
gap:10px;
padding:10px;
}

.product{
background:#fff;
border-radius:8px;
padding:8px;
text-align:center;
box-shadow:0 0 5px rgba(0,0,0,.1);
}

.product img{
width:100%;
height:110px;
object-fit:contain;
}

.product h4{
font-size:12px;
min-height:35px;
}

.qty{
display:flex;
justify-content:center;
gap:5px;
}

.qty button{
width:24px;
}

.qty input{
width:40px;
text-align:center;
}

.product button{
width:100%;
margin-top:5px;
background:#c40000;
color:#fff;
border:none;
padding:6px;
border-radius:5px;
}

/* CARRINHO */
#cart{
position:fixed;
top:0;
right:-100%;
width:90%;
max-width:350px;
height:100%;
background:#fff;
z-index:2000;
transition:.3s;
overflow:auto;
}

#cart.active{
right:0;
}

.cart-header{
background:#c40000;
color:#fff;
padding:10px;
display:flex;
justify-content:space-between;
}

.cart-item{
padding:6px;
border-bottom:1px solid #ddd;
font-size:12px;
display:flex;
justify-content:space-between;
}

.total{
padding:10px;
font-weight:bold;
}

/* FORM */
.form input, .form select{
width:100%;
padding:7px;
margin:5px 0;
}

/* BOT√ÉO */
.checkout{
background:#c40000;
color:#fff;
border:none;
width:100%;
padding:12px;
font-size:16px;
margin-top:10px;
border-radius:5px;
}

</style>
</head>

<body>

<header>
<div class="cart-icon" onclick="toggleCart()">
üõí 
<span id="count" class="cart-count">0</span>
<div id="cartTotal">R$ 0,00</div>
</div>
</header>

<!-- CATEGORIAS -->
<div class="categories">
<button class="active" onclick="filter('cerveja',this)">Cervejas</button>
<button onclick="filter('refri',this)">Refrigerantes</button>
<button onclick="filter('agua',this)">√Ågua</button>
<button onclick="filter('destilado',this)">Destilados</button>
</div>

<div id="products" class="products"></div>

<!-- CARRINHO -->
<div id="cart">

<div class="cart-header">
<h3>Carrinho</h3>
<button onclick="toggleCart()">‚úñ</button>
</div>

<div id="items"></div>

<div class="total" id="total"></div>

<div class="form">

<input id="nome" placeholder="Nome">
<input id="fone" placeholder="Telefone">
<input id="endereco" placeholder="Endere√ßo">
<input id="referencia" placeholder="Ponto de refer√™ncia">

<select id="tipo">
<option value="entrega">Entrega</option>
<option value="retirada">Retirada</option>
</select>

<select id="pagamento">
<option value="pix">Pix</option>
<option value="dinheiro">Dinheiro</option>
<option value="cartao">Cart√£o</option>
</select>

<button class="checkout" onclick="finalizar()">Finalizar Pedido</button>

</div>
</div>

<script>

/* PRODUTOS */
let produtos = [

/* CERVEJAS */
{ id:1,nome:"BRAHMA CHOPP 350ML",preco:3.89,cat:"cerveja",img:"img/Cerveja Brahma Chopp LT 350ML.png"},
{ id:3,nome:"AMSTEL 600ML",preco:7.99,cat:"cerveja",img:"img/CERVEJA_AMSTEL_LAGER_600ML.png"},
{ id:4,nome:"ANTARCTICA 350ML",preco:4.35,cat:"cerveja",img:"img/Cerveja antarctica 350ml.png"},
{ id:5,nome:"KAISER 473ML",preco:3.95,cat:"cerveja",img:"img/cerveja kaiser lt 473ml.png"},
{ id:6,nome:"SKOL 269ML",preco:3.25,cat:"cerveja",img:"img/CERVEJA SKOL LT 269ML.png"},
{ id:8,nome:"BUDWEISER 350ML",preco:4.75,cat:"cerveja",img:"img/CERVEJA BUDWEISER LT 350ML.png"},
{ id:12,nome:"BRAHMA 269ML",preco:2.79,cat:"cerveja",img:"img/CERVEJA_BRAHMA_CHOPP_269ML.png"},
{ id:13,nome:"EISENBAHN 355ML",preco:5.69,cat:"cerveja",img:"img/CERVEJA_EISENBAHN_PURO_MALTE_355ML.png"},
{ id:17,nome:"BUD LN 330ML",preco:6.49,cat:"cerveja",img:"img/CERVEJA_BUDWEISER_LN_330ML.png"},
{ id:19,nome:"PETRA 350ML",preco:3.10,cat:"cerveja",img:"img/CERVEJA_PETRA_PURO_MALTE_350ML.png"},
{ id:24,nome:"HEINEKEN 600ML",preco:11.69,cat:"cerveja",img:"img/CERVEJA_HEINEKEN_600ML.png"},
{ id:28,nome:"SKOL 350ML",preco:3.75,cat:"cerveja",img:"img/CERVEJA_SKOL_PILSEN_350ML.png"},
{ id:30,nome:"BRAHMA DUPLO 350ML",preco:3.99,cat:"cerveja",img:"img/CERVEJA_BRAHMA_DUPLO_MALTE_350ML.png"},
{ id:31,nome:"HEINEKEN LN",preco:6.95,cat:"cerveja",img:"img/CERVEJA_HEINEKEN_LN_330ML.png"},
{ id:34,nome:"CORONA 330ML",preco:8.39,cat:"cerveja",img:"img/CERVEJA_CORONA_EXTRA_330ML.png"},
{ id:35,nome:"C/12 BRAHMA DUPLO 350ML",preco:45.49,cat:"cerveja",img:"img/C12_CERVEJA_BRAHMA_DUPLO_MALTE_350ML.png"},

/* REFRI */
{ id:200,nome:"Coca 2L",preco:9.99,cat:"refri",img:"img/refri.png"},
{ id:201,nome:"Guaran√° 2L",preco:8.99,cat:"refri",img:"img/refri.png"},

/* AGUA */
{ id:300,nome:"√Ågua 500ml",preco:2.50,cat:"agua",img:"img/agua.png"},

/* DESTILADOS */
{ id:400,nome:"WHISKY JACK E COCA 350ML",preco:11.25,cat:"destilado",img:"img/11,25WHISKY JACK DANIELS E COCA COLA LT 350ML.png"},
{ id:401,nome:"JOHNNIE WALKER RED 1L",preco:102.50,cat:"destilado",img:"img/102,50WHISKY JOHNNIE WALKER RED LABEL 1LT.png"},
{ id:402,nome:"GIN TANQUERAY 750ML",preco:111.75,cat:"destilado",img:"img/111,75GIN TANQUERAY 750ML.png"},
{ id:403,nome:"GIN ROCKS 1L",preco:29.99,cat:"destilado",img:"img/29,99GIN ROCKS 1L.png"},
{ id:404,nome:"GIN ROCKS STRAWBERRY",preco:29.99,cat:"destilado",img:"img/29,99GIN ROCKS STRAWBERRY 1L.png"},
{ id:405,nome:"OLD PARR 12 ANOS",preco:139.99,cat:"destilado",img:"img/139,99WHISKY OLD PARR 12 ANOS 1LT.png"},
{ id:416,nome:"CARV√ÉO VEGETAL 3KG",preco:12.60,cat:"destilado",img:"img/CARV√ÉO VEGETAL.png"}
];

let cart=[];
let categoria="cerveja";

/* RENDER */
function render(){

let div=document.getElementById("products");
div.innerHTML="";

produtos.filter(p=>p.cat==categoria).forEach(p=>{

div.innerHTML+=`

<div class="product">
<img src="${p.img}">
<h4>${p.nome}</h4>
<p>R$ ${p.preco.toFixed(2)}</p>

<div class="qty">
<button onclick="qtd(${p.id},-1)">-</button>
<input id="q${p.id}" value="0">
<button onclick="qtd(${p.id},1)">+</button>
</div>

<button onclick="add(${p.id})">Adicionar</button>
</div>

`;

});
}

function qtd(id,d){
let i=document.getElementById("q"+id);
let v=parseInt(i.value)+d;
if(v<0)v=0;
i.value=v;
}

function add(id){

let p=produtos.find(x=>x.id==id);
let q=parseInt(document.getElementById("q"+id).value);

if(q==0)return;

let e=cart.find(x=>x.id==id);

if(e){e.qtd=q;}
else{cart.push({...p,qtd:q});}

update();
}

function update(){

let div=document.getElementById("items");
div.innerHTML="";

let total=0,c=0;

cart.forEach(i=>{

total+=i.preco*i.qtd;
c+=i.qtd;

div.innerHTML+=`

<div class="cart-item">
<b>${i.nome}</b>
<span>${i.qtd}x - R$ ${(i.preco*i.qtd).toFixed(2)}</span>
</div>

`;

});

document.getElementById("total").innerText="Total: R$ "+total.toFixed(2);
document.getElementById("count").innerText=c;
document.getElementById("cartTotal").innerText="R$ "+total.toFixed(2);
}

function toggleCart(){
document.getElementById("cart").classList.toggle("active");
}

function filter(cat,btn){

categoria=cat;

document.querySelectorAll(".categories button")
.forEach(b=>b.classList.remove("active"));

btn.classList.add("active");

render();
}

function finalizar(){

if(cart.length==0){
alert("Carrinho vazio!");
return;
}

let nome=document.getElementById("nome").value.trim();
let fone=document.getElementById("fone").value.trim();
let endereco=document.getElementById("endereco").value.trim();
let ref=document.getElementById("referencia").value.trim();
let tipo=document.getElementById("tipo").value;
let pagamento=document.getElementById("pagamento").value;

if(nome==""||fone==""){
alert("Preencha nome e telefone");
return;
}

let total=0;
cart.forEach(i=>total+=i.preco*i.qtd);

/* PIX */
if(pagamento=="pix"){

let chave="99988592997";

if(confirm("Chave Pix:\n\n"+chave+"\n\nDeseja copiar?")){
navigator.clipboard.writeText(chave);
alert("Pix copiado!");
}

}

/* WHATSAPP */
/* WHATSAPP */

let itens="";

cart.forEach(i=>{
itens+=`${i.nome} x${i.qtd} - R$ ${(i.preco*i.qtd).toFixed(2)}\n\n`;
});

let msg =
`üì¶ NOVO PEDIDO ‚Äì SR DELIVERY\n\n`+
`üë§ Cliente: ${nome}\n`+
`üìû Telefone: ${fone}\n\n`+

`üìç Endere√ßo: ${endereco}\n`+
`üìå Ref: ${ref}\n\n`+

`üõí Itens:\n\n`+
`${itens}`+

`üí∞ Total: R$ ${total.toFixed(2)}\n`+
`üöö Tipo: ${tipo}\n`+
`üí≥ Pagamento: ${pagamento}`;

let numero="5599988592997";

window.open(
`https://wa.me/${numero}?text=${encodeURIComponent(msg)}`,
"_blank"
);

}

window.onload=render;

</script>

</body>
</html>
