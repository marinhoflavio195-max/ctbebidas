<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SR Delivery</title>

<style>

/* ===== GERAL ===== */
body{
margin:0;
font-family:Arial, sans-serif;
background:#f5f5f5;
padding-top:200px;
}

/* ===== TOPO ===== */
header{
background:url("img/logoGPT.png") center/100% 100% no-repeat;
height:190px;

position:fixed;
top:0;
left:0;
width:100%;
z-index:1000;

display:flex;
justify-content:flex-end;
align-items:center;
padding:10px;
box-sizing:border-box;
}

.cart-icon{
font-size:26px;
color:white;
cursor:pointer;
position:relative;
}

.cart-count{
background:#fff;
color:#c40000;
border-radius:50%;
padding:2px 6px;
font-size:12px;
position:absolute;
top:-6px;
right:-8px;
}

/* ===== CATEGORIAS ===== */
.categories{
display:flex;
justify-content:center;
gap:8px;
background:#fff;
padding:8px;
position:sticky;
top:190px;
z-index:900;
}

.categories button{
border:none;
background:#eee;
padding:6px 12px;
border-radius:20px;
cursor:pointer;
font-size:13px;
}

.categories .active{
background:#c40000;
color:#fff;
}

/* ===== PRODUTOS ===== */
.products{
display:grid;
grid-template-columns:repeat(auto-fill,minmax(150px,1fr));
gap:10px;
padding:10px;
}

.product{
background:#fff;
border-radius:8px;
padding:8px;
text-align:center;
box-shadow:0 0 5px rgba(0,0,0,.1);
}

.product img{
width:100%;
height:110px;
object-fit:contain;
}

.product h4{
font-size:12px;
min-height:35px;
}

.qty{
display:flex;
justify-content:center;
gap:5px;
}

.qty button{
width:24px;
}

.qty input{
width:40px;
text-align:center;
}

.product button{
width:100%;
margin-top:5px;
background:#c40000;
color:#fff;
border:none;
padding:6px;
border-radius:5px;
}

/* ===== CARRINHO ===== */
#cart{
position:fixed;
top:0;
right:-100%;
width:90%;
max-width:350px;
height:100%;
background:#fff;
z-index:2000;
transition:.3s;
overflow:auto;
}

#cart.active{
right:0;
}

.cart-header{
background:#c40000;
color:#fff;
padding:10px;
display:flex;
justify-content:space-between;
}

.cart-item{
padding:8px;
border-bottom:1px solid #ddd;
font-size:13px;
display:flex;
justify-content:space-between;
}

.total{
padding:10px;
font-weight:bold;
}

/* ===== FORM ===== */
.form input, .form select{
width:100%;
padding:7px;
margin:5px 0;
}

/* ===== BOT√ÉO ===== */
.checkout{
background:#c40000;
color:#fff;
border:none;
width:100%;
padding:12px;
font-size:16px;
margin-top:10px;
border-radius:5px;
}

</style>
</head>

<body>

<header>
<div class="cart-icon" onclick="toggleCart()">
üõí<span id="count" class="cart-count">0</span>
</div>
</header>

<!-- CATEGORIAS -->
<div class="categories">
<button class="active" onclick="filter('cerveja',this)">Cervejas</button>
<button onclick="filter('refri',this)">Refri</button>
<button onclick="filter('agua',this)">√Ågua</button>
<button onclick="filter('destilado',this)">Destilados</button>
</div>

<!-- PRODUTOS -->
<div id="products" class="products"></div>

<!-- CARRINHO -->
<div id="cart">

<div class="cart-header">
<h3>Carrinho</h3>
<button onclick="toggleCart()">‚úñ</button>
</div>

<div id="items"></div>

<div class="total" id="total"></div>

<div class="form">

<input id="nome" placeholder="Nome do cliente">
<input id="fone" placeholder="Telefone">
<input id="endereco" placeholder="Endere√ßo">
<input id="ref" placeholder="Refer√™ncia">

<select id="tipo">
<option value="entrega">Entrega</option>
<option value="retirada">Retirada</option>
</select>

<select id="pagamento">
<option value="pix">Pix</option>
<option value="dinheiro">Dinheiro</option>
<option value="cartao">Cart√£o</option>
</select>

<button class="checkout" onclick="finalizar()">Finalizar Pedido</button>

</div>

</div>

<script>

/* ===== PRODUTOS (N√ÉO ALTERADO) ===== */
let produtos = [
{ id:1,nome:"BRAHMA CHOPP 350ML",preco:3.89,cat:"cerveja",img:"img/Cerveja Brahma Chopp LT 350ML.png"},
{ id:3,nome:"AMSTEL 600ML",preco:7.99,cat:"cerveja",img:"img/CERVEJA_AMSTEL_LAGER_600ML.png"},
{ id:4,nome:"ANTARCTICA 350ML",preco:4.35,cat:"cerveja",img:"img/Cerveja antarctica 350ml.png"},
{ id:5,nome:"KAISER 473ML",preco:3.95,cat:"cerveja",img:"img/cerveja kaiser lt 473ml.png"},
{ id:6,nome:"SKOL 269ML",preco:3.25,cat:"cerveja",img:"img/CERVEJA SKOL LT 269ML.png"},
{ id:8,nome:"BUDWEISER 350ML",preco:4.75,cat:"cerveja",img:"img/CERVEJA BUDWEISER LT 350ML.png"},
{ id:12,nome:"BRAHMA 269ML",preco:2.79,cat:"cerveja",img:"img/CERVEJA_BRAHMA_CHOPP_269ML.png"},
{ id:13,nome:"EISENBAHN 355ML",preco:5.69,cat:"cerveja",img:"img/CERVEJA_EISENBAHN_PURO_MALTE_355ML.png"},
{ id:17,nome:"BUD LN 330ML",preco:6.49,cat:"cerveja",img:"img/CERVEJA_BUDWEISER_LN_330ML.png"},
{ id:19,nome:"PETRA 350ML",preco:3.10,cat:"cerveja",img:"img/CERVEJA_PETRA_PURO_MALTE_350ML.png"},
{ id:24,nome:"HEINEKEN 600ML",preco:11.69,cat:"cerveja",img:"img/CERVEJA_HEINEKEN_600ML.png"},
{ id:28,nome:"SKOL 350ML",preco:3.75,cat:"cerveja",img:"img/CERVEJA_SKOL_PILSEN_350ML.png"},
{ id:30,nome:"BRAHMA DUPLO 350ML",preco:3.99,cat:"cerveja",img:"img/CERVEJA_BRAHMA_DUPLO_MALTE_350ML.png"},
{ id:31,nome:"HEINEKEN LN",preco:6.95,cat:"cerveja",img:"img/CERVEJA_HEINEKEN_LN_330ML.png"},
{ id:34,nome:"CORONA 330ML",preco:8.39,cat:"cerveja",img:"img/CERVEJA_CORONA_EXTRA_330ML.png"},

{ id:400,nome:"Vodka 1L",preco:49.9,cat:"destilado",img:"img/destilado.png"},
{ id:401,nome:"Whisky 1L",preco:119.9,cat:"destilado",img:"img/destilado.png"},
{ id:402,nome:"Gin 750ml",preco:89.9,cat:"destilado",img:"img/destilado.png"},

{ id:200,nome:"Coca 2L",preco:9.99,cat:"refri",img:"img/refri.png"},
{ id:201,nome:"Guaran√° 2L",preco:8.99,cat:"refri",img:"img/refri.png"},

{ id:300,nome:"√Ågua 500ml",preco:2.5,cat:"agua",img:"img/agua.png"}
];

let cart=[];
let categoria="cerveja";

/* ===== RENDER ===== */
function render(){

let div=document.getElementById("products");
div.innerHTML="";

produtos.filter(p=>p.cat==categoria)
.forEach(p=>{

div.innerHTML+=`

<div class="product">

<img src="${p.img}">

<h4>${p.nome}</h4>

<p>R$ ${p.preco.toFixed(2)}</p>

<div class="qty">
<button onclick="qtd(${p.id},-1)">-</button>
<input id="q${p.id}" value="1">
<button onclick="qtd(${p.id},1)">+</button>
</div>

<button onclick="add(${p.id})">Adicionar</button>

</div>

`;

});

}

/* ===== QTD ===== */
function qtd(id,d){

let i=document.getElementById("q"+id);
let v=parseInt(i.value)+d;

if(v<1)v=1;
i.value=v;

}

/* ===== CARRINHO ===== */
function add(id){

let p=produtos.find(x=>x.id==id);
let q=parseInt(document.getElementById("q"+id).value);

let e=cart.find(x=>x.id==id);

if(e){
e.qtd = q;
}else{
cart.push({...p,qtd:q});
}

update();

}

function update(){

let div=document.getElementById("items");
div.innerHTML="";

let total=0;
let c=0;

cart.forEach(i=>{

total+=i.preco*i.qtd;
c+=i.qtd;

div.innerHTML+=`

<div class="cart-item">
${i.nome} (${i.qtd})
<span>R$ ${(i.preco*i.qtd).toFixed(2)}</span>
</div>

`;

});

document.getElementById("total").innerText=
"Total: R$ "+total.toFixed(2);

document.getElementById("count").innerText=c;

}

/* ===== CART ===== */
function toggleCart(){
document.getElementById("cart").classList.toggle("active");
}

/* ===== FILTRO ===== */
function filter(cat,btn){

categoria=cat;

document.querySelectorAll(".categories button")
.forEach(b=>b.classList.remove("active"));

btn.classList.add("active");

render();

}

/* ===== FINALIZAR ===== */
function finalizar(){

if(cart.length==0){
alert("Carrinho vazio!");
return;
}

let total=cart.reduce((a,b)=>a+b.preco*b.qtd,0);

let tipo=document.getElementById("tipo").value;

/* REGRA ENTREGA 80 */
if(tipo=="entrega" && total<80){
alert("Entrega somente para pedidos acima de R$ 80,00");
return;
}

alert("Pedido enviado com sucesso!");

cart=[];
update();
toggleCart();

}

/* START */
render();

</script>

</body>
</html>
